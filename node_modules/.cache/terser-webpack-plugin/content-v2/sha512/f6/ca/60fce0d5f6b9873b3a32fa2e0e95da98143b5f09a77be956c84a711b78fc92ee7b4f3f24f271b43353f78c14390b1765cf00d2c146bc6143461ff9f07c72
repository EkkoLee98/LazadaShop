{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{639:function(e,t,l){\"use strict\";l.r(t);var i={name:\"GetAllUrls\",data:()=>({query:{sid:\"\",pageIndex:1},dialogVisible:!1,tableData:[],multipleSelection:[],delList:[],pageTotal:0,form:{},idx:-1,id:-1,shareurl:\"\",status:\"\"}),created(){this.GetallCoupon()},methods:{getMoney(e){this.$notify.error({title:\"错误\",message:\"你在想屁吃\"})},onCopy(e){this.$notify({title:\"成功\",message:\"复制成功\",type:\"success\"}),this.dialogVisible=!1,console.log(e)},onError(e){this.$notify.error({title:\"错误\",message:\"复制失败\"}),this.dialogVisible=!1},GetallCoupon(){this.$axios.post(this.$api.getAllUrl,{},{headers:{contentType:\"application/json;charset=UTF-8\"}}).then(e=>{console.log(e.data),this.tableData=e.data.msg})},handleSearch(){},CopyUrl(e){this.dialogVisible=!0,this.shareurl=\"https://siushare.com/coupon/share?shareId=\"+e.shareId+\"&itemId=\"+e.itemId},handleSelectionChange(e){this.multipleSelection=e},handleDelete(e,t){this.$confirm(\"确定要删除吗？\",\"提示\",{type:\"warning\"}).then(()=>{this.$message.success(\"删除成功\"),this.tableData.splice(e,1)}).catch(()=>{})},delAllSelection(){const e=this.multipleSelection.length;let t=\"\";this.delList=this.delList.concat(this.multipleSelection);for(let l=0;l<e;l++)t+=this.multipleSelection[l].name+\" \";console.log(this.delList);for(let e=0;e<this.delList.length;e++)this.tableData.splice(this.delList[e].$index,1);this.$message.error(`删除了${t}`),this.multipleSelection=[]},saveEdit(){this.editVisible=!1,this.$message.success(`修改第 ${this.idx+1} 行成功`),this.$set(this.tableData,this.idx,this.form)}},mounted(){}},s=(l(721),l(64)),a=Object(s.a)(i,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"div\",[l(\"div\",{staticClass:\"crumbs\"},[l(\"el-breadcrumb\",{attrs:{separator:\"/\"}},[l(\"el-breadcrumb-item\",[l(\"i\",{staticClass:\"el-icon-lx-cascades\"}),e._v(\" 所有商家\\n                \")])],1)],1),e._v(\" \"),l(\"div\",{staticClass:\"container\"},[l(\"div\",{staticClass:\"handle-box\"},[l(\"el-button\",{staticClass:\"handle-del mr10\",attrs:{type:\"primary\",icon:\"el-icon-delete\"},on:{click:e.delAllSelection}},[e._v(\"批量删除\")]),e._v(\" \"),l(\"el-button\",{staticClass:\"handle-del mr10\",attrs:{type:\"primary\",icon:\"el-icon-delete\"},on:{click:e.GetallCoupon}},[e._v(\"所有Url\")]),e._v(\" \"),l(\"el-input\",{staticClass:\"handle-input mr10\",attrs:{placeholder:\"商品Id\"},model:{value:e.query.sid,callback:function(t){e.$set(e.query,\"sid\",t)},expression:\"query.sid\"}}),e._v(\" \"),l(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:e.handleSearch}},[e._v(\"搜索\")])],1),e._v(\" \"),l(\"el-table\",{ref:\"multipleTable\",staticClass:\"table\",staticStyle:{width:\"100%\"},attrs:{data:e.tableData,border:\"\",\"header-cell-class-name\":\"table-header\",height:\"500\"},on:{\"selection-change\":e.handleSelectionChange}},[l(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\",align:\"center\"}}),e._v(\" \"),l(\"el-table-column\",{attrs:{label:\"SharerId\",width:\"300\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(e._s(t.row.shareId))]}}])}),e._v(\" \"),l(\"el-table-column\",{attrs:{label:\"商品Id\",width:\"300\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(e._s(t.row.itemId))]}}])}),e._v(\" \"),l(\"el-table-column\",{attrs:{label:\"使用状态\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[0==t.row.status?l(\"div\",{staticStyle:{color:\"#5daf34\"}},[e._v(\"可使用\")]):e._e(),e._v(\" \"),1==t.row.status?l(\"div\",{staticStyle:{color:\"red\"}},[e._v(\"已过期\")]):e._e()]}}])}),e._v(\" \"),l(\"el-table-column\",{attrs:{label:\"操作\",width:\"200\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[l(\"el-button\",{attrs:{type:\"text\",icon:\"el-icon-edit\"},on:{click:function(l){return e.CopyUrl(t.row)}}},[e._v(\"复制Url\")]),e._v(\" \"),l(\"el-button\",{attrs:{type:\"text\",icon:\"el-icon-check\"},on:{click:function(l){return e.getMoney(t.row)}}},[e._v(\"提现\")]),e._v(\" \"),l(\"el-button\",{staticClass:\"red\",attrs:{type:\"text\",icon:\"el-icon-delete\"},on:{click:function(l){return e.handleDelete(t.row)}}},[e._v(\"删除\")])]}}])})],1)],1),e._v(\" \"),l(\"el-dialog\",{attrs:{title:\"生成URL成功\",visible:e.dialogVisible,width:\"30%\"},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[e._v(\"\\n            生成URL成功：\"),l(\"span\",[e._v(\"您生成的URL为:  \"+e._s(e.shareurl)+\"  快去跟大家分享吧！\")]),e._v(\" \"),l(\"el-button\",{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:e.shareurl,expression:\"shareurl\",arg:\"copy\"},{name:\"clipboard\",rawName:\"v-clipboard:success\",value:e.onCopy,expression:\"onCopy\",arg:\"success\"},{name:\"clipboard\",rawName:\"v-clipboard:error\",value:e.onError,expression:\"onError\",arg:\"error\"}],staticClass:\"ml10\",attrs:{type:\"text\",size:\"medium\"}},[e._v(\"点击复制\")]),e._v(\" \"),l(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[l(\"el-button\",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(\"取 消\")]),e._v(\" \"),l(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(\"确 定\")])],1)],1)],1)}),[],!1,null,\"418986d8\",null);t.default=a.exports},673:function(e,t,l){var i=l(722);\"string\"==typeof i&&(i=[[e.i,i,\"\"]]),i.locals&&(e.exports=i.locals);(0,l(158).default)(\"85b1d31e\",i,!0,{})},721:function(e,t,l){\"use strict\";var i=l(673);l.n(i).a},722:function(e,t,l){}}]);","extractedComments":[]}