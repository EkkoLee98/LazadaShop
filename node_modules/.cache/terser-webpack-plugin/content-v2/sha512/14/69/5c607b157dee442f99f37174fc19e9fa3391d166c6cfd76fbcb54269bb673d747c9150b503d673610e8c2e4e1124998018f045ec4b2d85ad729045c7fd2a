{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{805:function(t,i,e){var s=e(845);\"string\"==typeof s&&(s=[[t.i,s,\"\"]]),s.locals&&(t.exports=s.locals);(0,e(18).default)(\"653c1bce\",s,!0,{})},843:function(t,i,e){t.exports=function(){\"use strict\";function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var i=window.devicePixelRatio||1,e=10*i,s=e/2;return function(){function a(t,o){!function(t,i){if(!(t instanceof i))throw new TypeError(\"Cannot call a class as a function\")}(this,a),this.canvas=function(t){var e=document.getElementById(t),s=e.parentNode.clientWidth,a=e.parentNode.clientHeight;return e.style.width=s+\"px\",e.style.height=a+\"px\",e.width=s*i,e.height=a*i,e}(t),this.ctx=this.canvas.getContext(\"2d\"),this.type=\"bar\",this.showValue=!0,this.showGrid=!0,this.topPadding=60*i,this.leftPadding=50*i,this.rightPadding=10*i,this.bottomPadding=50*i,this.yEqual=5,this.yLength=0,this.xLength=0,this.ySpace=0,this.xRorate=0,this.yRorate=0,this.bgColor=\"#fff\",this.axisColor=\"#666\",this.gridColor=\"#eee\",this.title={text:\"\",color:\"#666\",position:\"top\",font:\"bold \"+18*i+\"px Arial\",top:e,bottom:s},this.legend={display:!0,position:\"top\",color:\"#666\",font:14*i+\"px Arial\",top:45*i,bottom:15*i,textWidth:0},this.radius=100*i,this.innerRadius=60*i,this.colorList=[\"#4A90E2\",\"#F5A623\",\"#ff5858\",\"#5e64ff\",\"#2AC766\",\"#743ee2\",\"#b554ff\",\"#199475\"],this.init(o)}return function(i,e,s){e&&t(i.prototype,e)}(a,[{key:\"init\",value:function(t){if(t.title=Object.assign({},this.title,t.title),t.legend=Object.assign({},this.legend,t.legend),Object.assign(this,t),!t.labels||!t.labels.length)throw new Error(\"缺少主要参数labels\");if(!t.datasets||!t.datasets.length)throw new Error(\"缺少主要参数datasets\");this.drawBackground(),\"bar\"===this.type||\"line\"===this.type?this.renderBarChart():this.renderPieChart(),this.drawLegend()}},{key:\"renderBarChart\",value:function(){this.yLength=Math.floor((this.canvas.height-this.topPadding-this.bottomPadding-e)/this.yEqual),this.xLength=Math.floor((this.canvas.width-this.leftPadding-this.rightPadding-e)/this.labels.length),this.ySpace=function(t,i){var e=t.map((function(t){return t.data.reduce((function(t,i){return i<t?t:i}))})),s=Math.ceil(Math.max.apply(Math,function(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}(e))/i),a=s.toString().length-1;return a=2<a?2:a,Math.ceil(s/Math.pow(10,a))*Math.pow(10,a)}(this.datasets,this.yEqual),this.drawXAxis(),this.drawYAxis(),this.drawBarContent()}},{key:\"drawBarContent\",value:function(){var t=this.ctx,a=this.datasets.length;t.beginPath();for(var o=0;o<a;o++){t.font=this.legend.font,this.legend.textWidth+=Math.ceil(t.measureText(this.datasets[o].label).width),t.fillStyle=t.strokeStyle=this.datasets[o].fillColor||this.colorList[o];for(var n=this.datasets[o].data,l=0;l<n.length;l++)if(!(l>this.labels.length-1)){var h=this.xLength/(a+1),r=this.yLength/this.ySpace,c=this.leftPadding+this.xLength*l+h*(o+.5),d=c+h,f=this.canvas.height-this.bottomPadding,g=f-n[l]*r;if(\"bar\"===this.type)t.fillRect(c,g,d-c,f-g),this.drawValue(n[l],c+h/2,g-s);else if(\"line\"===this.type){var v=this.leftPadding+this.xLength*(l+.5);t.beginPath(),t.arc(v,g,3*i,0,2*Math.PI,!0),t.fill(),0!==l&&(t.beginPath(),t.strokeStyle=this.datasets[o].fillColor||this.colorList[o],t.lineWidth=2*i,t.moveTo(v-this.xLength,f-n[l-1]*r),t.lineTo(v,g),t.stroke(),t.lineWidth=1*i),this.drawValue(n[l],v,g-e)}}}t.stroke()}},{key:\"renderPieChart\",value:function(){for(var t=this.ctx,i=this.labels.length,e=this.datasets[0],s=e.data,a=s.reduce((function(t,i){return t+i})),o=-Math.PI/2,n=this.canvas.width/2,l=this.canvas.height/2,h=0;h<i;h++){t.font=this.legend.font,this.legend.textWidth+=Math.ceil(t.measureText(this.labels[h]).width),t.beginPath(),t.strokeStyle=t.fillStyle=e.colorList&&e.colorList[h]||this.colorList[h],t.moveTo(n,l);var r=o,c=o+=s[h]/a*2*Math.PI;t.arc(n,l,this.radius,r,c),t.closePath(),t.fill();var d=(r+c)/2;this.drawPieValue(s[h],d)}\"ring\"===this.type&&(t.beginPath(),t.fillStyle=this.bgColor,t.arc(n,l,this.innerRadius,0,2*Math.PI),t.closePath(),t.fill())}},{key:\"drawValue\",value:function(t,e,s){var a=this.ctx;this.showValue&&(a.textBaseline=\"middle\",a.font=12*i+\"px Arial\",a.textAlign=\"center\",a.fillText(t,e,s))}},{key:\"drawPieValue\",value:function(t,i){var s=this.ctx;if(this.showValue){var a=this.canvas.width/2,o=this.canvas.height/2,n=Math.ceil(Math.abs(this.radius*Math.cos(i))),l=Math.floor(Math.abs(this.radius*Math.sin(i)));s.textBaseline=\"middle\",this.showValue&&(i<=0?(s.textAlign=\"left\",s.moveTo(a+n,o-l),s.lineTo(a+n+e,o-l-e),s.moveTo(a+n+e,o-l-e),s.lineTo(a+n+3*e,o-l-e),s.stroke(),s.fillText(t,a+n+3.5*e,o-l-e)):0<i&&i<=Math.PI/2?(s.textAlign=\"left\",s.moveTo(a+n,o+l),s.lineTo(a+n+e,o+l+e),s.moveTo(a+n+e,o+l+e),s.lineTo(a+n+3*e,o+l+e),s.stroke(),s.fillText(t,a+n+3.5*e,o+l+e)):i>Math.PI/2&&i<Math.PI?(s.textAlign=\"right\",s.moveTo(a-n,o+l),s.lineTo(a-n-e,o+l+e),s.moveTo(a-n-e,o+l+e),s.lineTo(a-n-3*e,o+l+e),s.stroke(),s.fillText(t,a-n-3.5*e,o+l+e)):(s.textAlign=\"right\",s.moveTo(a-n,o-l),s.lineTo(a-n-e,o-l-e),s.moveTo(a-n-e,o-l-e),s.lineTo(a-n-3*e,o-l-e),s.stroke(),s.fillText(t,a-n-3.5*e,o-l-e)))}}},{key:\"drawBackground\",value:function(){this.ctx.fillStyle=this.bgColor,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.drawTitle()}},{key:\"drawTitle\",value:function(){var t=this.title;if(t.text){var i=this.ctx;i.beginPath(),i.font=t.font,i.textAlign=\"center\",i.fillStyle=t.color,\"top\"===t.position?(i.textBaseline=\"top\",i.fillText(t.text,this.canvas.width/2,t.top)):(i.textBaseline=\"bottom\",i.fillText(t.text,this.canvas.width/2,this.canvas.height-t.bottom))}}},{key:\"drawXAxis\",value:function(){var t=this.ctx,i=this.canvas.height-this.bottomPadding+.5;t.beginPath(),t.strokeStyle=this.axisColor,t.moveTo(this.leftPadding,i),t.lineTo(this.canvas.width-this.rightPadding,i),t.stroke(),this.drawXPoint()}},{key:\"drawXPoint\",value:function(){var t=this.ctx;t.beginPath(),t.font=12*i+\"px Microsoft YaHei\",t.textAlign=this.xRorate?\"right\":\"center\",t.textBaseline=\"top\",t.fillStyle=this.axisColor;for(var a=0;a<this.labels.length;a++){var o=this.labels[a],n=this.leftPadding+this.xLength*(a+1)+.5,l=this.canvas.height-this.bottomPadding;this.showGrid?(t.strokeStyle=this.gridColor,t.moveTo(n,l),t.lineTo(n,this.topPadding+e)):(t.moveTo(n,l),t.lineTo(n,l-s)),t.stroke(),t.save(),t.translate(n-this.xLength/2,l+s),t.rotate(-this.xRorate*Math.PI/180),t.fillText(o,0,0),t.restore()}}},{key:\"drawYAxis\",value:function(){var t=this.ctx;t.beginPath(),t.strokeStyle=this.axisColor,t.moveTo(this.leftPadding-.5,this.canvas.height-this.bottomPadding+.5),t.lineTo(this.leftPadding-.5,this.topPadding+.5),t.stroke(),this.drawYPoint()}},{key:\"drawYPoint\",value:function(){var t=this.ctx;t.font=12*i+\"px Microsoft YaHei\",t.textAlign=\"right\",t.textBaseline=\"middle\",t.beginPath();for(var a=0;a<this.yEqual;a++){var o=this.leftPadding,n=this.canvas.height-this.bottomPadding-this.yLength*(a+1)+.5;this.showGrid?(t.strokeStyle=this.gridColor,t.moveTo(o,n),t.lineTo(this.canvas.width-this.rightPadding-e,n)):(t.strokeStyle=this.axisColor,t.moveTo(o-s,n),t.lineTo(o,n)),t.stroke(),t.save(),t.fillStyle=this.axisColor,t.translate(o-e,n),t.rotate(-this.yRorate*Math.PI/180),t.fillText(this.ySpace*(a+1),0,0),t.restore()}}},{key:\"drawLegend\",value:function(){var t=this.legend;if(t.display){var i=this.ctx,a=\"pie\"===this.type||\"ring\"===this.type;i.beginPath(),i.font=t.font,i.textAlign=\"left\",i.textBaseline=\"middle\";for(var o=a?this.labels.length:this.datasets.length,n=(this.canvas.width-(this.legend.textWidth+(5*o-2)*e))/2,l=0,h=0;h<o;h++){var r=a?this.datasets[0]:this.datasets[h],c=(a?this.labels[h]:r.label)||\"\";i.fillStyle=r.colorList&&r.colorList[h]||r.fillColor||this.colorList[h],\"top\"===t.position?(this.drawLegendIcon(n+5*e*h+l,t.top-s,2*e,e),i.fillStyle=t.color,i.fillText(c,n+(5*h+3)*e+l,t.top)):\"bottom\"===t.position?(this.drawLegendIcon(n+5*e*h+l,this.canvas.height-t.bottom-s,2*e,e),i.fillStyle=t.color,i.fillText(c,n+(5*h+3)*e+l,this.canvas.height-t.bottom)):(i.fillRect(e,t.top+2*e*h,2*e,e),i.fillStyle=t.color,i.fillText(c,4*e,t.top+2*e*h+.5*e)),l+=Math.ceil(i.measureText(c).width)}}}},{key:\"drawLegendIcon\",value:function(t,a,o,n){var l=this.ctx;\"line\"===this.type?(l.beginPath(),l.strokeStyle=l.fillStyle,l.lineWidth=2*i,l.moveTo(t,a+s),l.lineTo(t+2*e,a+s),l.stroke(),l.lineWidth=1*i,l.arc(t+e,a+s,3*i,0,2*Math.PI,!0),l.fill()):l.fillRect(t,a,o,n)}}]),a}()}()},844:function(t,i,e){\"use strict\";var s=e(805);e.n(s).a},845:function(t,i,e){},860:function(t,i,e){\"use strict\";e.r(i);var s=e(843),a=e.n(s),o={props:{canvasId:{type:String,default:\"\",required:!0},options:{type:Object,required:!0}},mounted(){this.renderChart()},methods:{renderChart(){if(!this.checkOptions())return;const t={...this.options};new a.a(this.canvasId,t)},checkOptions(){const t=this.options;return!(!t.datasets||!t.datasets.length)&&!(!t.labels||!t.labels.length)}},watch:{options:{handler(t,i){this.renderChart()},deep:!0}}},n=e(3),l={name:\"basecharts\",components:{Schart:Object(n.a)(o,(function(){var t=this.$createElement,i=this._self._c||t;return i(\"div\",[i(\"canvas\",{attrs:{id:this.canvasId}})])}),[],!1,null,null,null).exports},data:()=>({options1:{type:\"bar\",title:{text:\"最近一周各品类销售图\"},bgColor:\"#fbfbfb\",labels:[\"周一\",\"周二\",\"周三\",\"周四\",\"周五\"],datasets:[{label:\"家电\",fillColor:\"rgba(241, 49, 74, 0.5)\",data:[234,278,270,190,230]},{label:\"百货\",data:[164,178,190,135,160]},{label:\"食品\",data:[144,198,150,235,120]}]},options2:{type:\"line\",title:{text:\"最近几个月各品类销售趋势图\"},bgColor:\"#fbfbfb\",labels:[\"6月\",\"7月\",\"8月\",\"9月\",\"10月\"],datasets:[{label:\"家电\",data:[234,278,270,190,230]},{label:\"百货\",data:[164,178,150,135,160]},{label:\"食品\",data:[114,138,200,235,190]}]},options3:{type:\"pie\",title:{text:\"服装品类销售饼状图\"},legend:{position:\"left\"},bgColor:\"#fbfbfb\",labels:[\"T恤\",\"牛仔裤\",\"连衣裙\",\"毛衣\",\"七分裤\",\"短裙\",\"羽绒服\"],datasets:[{data:[334,278,190,235,260,200,141]}]},options4:{type:\"ring\",title:{text:\"环形三等分\"},showValue:!1,legend:{position:\"bottom\",bottom:40},bgColor:\"#fbfbfb\",labels:[\"vue\",\"react\",\"angular\"],datasets:[{data:[500,500,500]}]}})},h=(e(844),Object(n.a)(l,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e(\"div\",[e(\"div\",{staticClass:\"crumbs\"},[e(\"el-breadcrumb\",{attrs:{separator:\"/\"}},[e(\"el-breadcrumb-item\",[e(\"i\",{staticClass:\"el-icon-pie-chart\"}),t._v(\" schart图表\\n            \")])],1)],1),t._v(\" \"),e(\"div\",{staticClass:\"container\"},[t._m(0),t._v(\" \"),e(\"div\",{staticClass:\"schart-box\"},[e(\"div\",{staticClass:\"content-title\"},[t._v(\"柱状图\")]),t._v(\" \"),e(\"schart\",{staticClass:\"schart\",attrs:{canvasId:\"bar\",options:t.options1}})],1),t._v(\" \"),e(\"div\",{staticClass:\"schart-box\"},[e(\"div\",{staticClass:\"content-title\"},[t._v(\"折线图\")]),t._v(\" \"),e(\"schart\",{staticClass:\"schart\",attrs:{canvasId:\"line\",options:t.options2}})],1),t._v(\" \"),e(\"div\",{staticClass:\"schart-box\"},[e(\"div\",{staticClass:\"content-title\"},[t._v(\"饼状图\")]),t._v(\" \"),e(\"schart\",{staticClass:\"schart\",attrs:{canvasId:\"pie\",options:t.options3}})],1),t._v(\" \"),e(\"div\",{staticClass:\"schart-box\"},[e(\"div\",{staticClass:\"content-title\"},[t._v(\"环形图\")]),t._v(\" \"),e(\"schart\",{staticClass:\"schart\",attrs:{canvasId:\"ring\",options:t.options4}})],1)])])}),[function(){var t=this.$createElement,i=this._self._c||t;return i(\"div\",{staticClass:\"plugins-tips\"},[this._v(\"\\n            vue-schart：vue.js封装sChart.js的图表组件。\\n            访问地址：\\n            \"),i(\"a\",{attrs:{href:\"https://github.com/lin-xin/vue-schart\",target:\"_blank\"}},[this._v(\"vue-schart\")])])}],!1,null,\"72fb1ec0\",null));i.default=h.exports}}]);","extractedComments":[]}