{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{645:function(e,t,r){\"use strict\";r.r(t);var s=[function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"header1\"},[t(\"div\",{staticClass:\"logo\"},[t(\"img\",{staticStyle:{width:\"100px\",height:\"100px\",\"margin-left\":\"10px\"},attrs:{src:r(647)}}),this._v(\" \"),t(\"div\",{staticStyle:{color:\"darkslategray\",\"font-size\":\"20px\",\"font-weight\":\"bold\"}},[this._v(\"siushare.com\")])]),this._v(\" \"),t(\"div\",{staticClass:\"title\"},[t(\"span\",[t(\"p\",{staticStyle:{\"font-size\":\"25px\",\"font-family\":\"'Apple Color Emoji'\",position:\"absolute\",\"margin-left\":\"-30px\",\"margin-top\":\"75px\"}},[this._v(\"欢迎注册\")])])])])}],i={data:function(){return{show:!0,count:\"\",timer:null,errors:\"\",error:!1,param:{username:\"\",password:\"\",password2:\"\",phone:\"\",code:\"\"},rules:{username:[{required:!0,message:\"请输入用户名\",trigger:\"blur\"}],password:[{validator:(e,t,r)=>{\"\"===t?r(new Error(\"请输入密码\")):(\"\"!==this.param.password&&this.$refs.register.validateField(\"password2\"),r())},required:!0,trigger:\"blur\"},{required:!0,message:\"请输入密码\",trigger:\"blur\"},{min:5,max:25,message:\"长度在 5 到 25个字符\"},{pattern:/^(\\w){5,25}$/,message:\"只能输入5-25个字母、数字、下划线\"}],password2:[{validator:(e,t,r)=>{\"\"===t?r(new Error(\"请再次输入密码\")):t!==this.param.password?r(new Error(\"两次输入密码不一致!\")):r()},required:!0,trigger:\"blur\"},{required:!0,message:\"请输入密码\",trigger:\"blur\"},{min:5,max:25,message:\"长度在 5 到 25个字符\"},{pattern:/^(\\w){5,25}$/,message:\"只能输入5-25个字母、数字、下划线\"}],phone:[{required:!0,message:\"请输入手机号\",trigger:\"blur\"}],code:[{required:!0,message:\"请输入验证码\",trigger:\"blur\"}]}}},methods:{goLogin(){this.$router.push(\"/login\")},resetForm(e){this.$refs[e].resetFields()},submitForm(){this.$refs.register.validate(e=>{if(!e)return this.$message.error(\"未知错误\"),console.log(\"error submit!!\"),!1;this.$axios.post(\"/api/register\",this.$qs.stringify(this.param),{headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"}}).then(e=>{200==e.data.code?(this.$notify({title:\"成功\",message:\"注册成功\",type:\"success\"}),this.$router.push(\"/login\")):\"该用户名已注册\"==e.data.code&&this.$notify.error({title:\"错误\",message:\"该用户名已注册\"})})})},getCode(){let e=this.param.phone,t=this.param.username,r=this.param.password,s=this.param.password2;if(e&&t&&r&&s)if(r!==s)this.errors=\"两次密码不一致\";else if(/^1[345678]\\d{9}$/.test(e)){this.$axios.get(\"/api/register/sms\",{params:{mobile:e}}).then(e=>{console.log(e.data),console.log(\"aaa\")});const t=60;this.error=!1,this.timer||(this.count=t,this.show=!1,this.timer=setInterval(()=>{this.count>0&&this.count<=t?this.count--:(this.show=!0,clearInterval(this.timer),this.timer=null)},1e3))}else this.error=!0,this.errors=\"请输入正确的手机号\";else this.error=!0,this.errors=\"资料不能为空\"}},mounted(){}},a=(r(732),r(63)),o=Object(a.a)(i,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",[e._m(0),e._v(\" \"),r(\"div\",{attrs:{id:\"login-wrap\"}},[r(\"div\",{staticClass:\"ms-login\"},[r(\"div\",{staticClass:\"ms-title\",staticStyle:{color:\"black\"}},[e._v(\"注册\")]),e._v(\" \"),r(\"el-form\",{ref:\"register\",staticClass:\"ms-content\",attrs:{model:e.param,rules:e.rules,\"label-width\":\"0px\"}},[r(\"el-form-item\",{attrs:{prop:\"username\"}},[r(\"el-input\",{attrs:{placeholder:\"用户名\"},model:{value:e.param.username,callback:function(t){e.$set(e.param,\"username\",t)},expression:\"param.username\"}},[r(\"el-button\",{attrs:{slot:\"prepend\",icon:\"el-icon-lx-people\"},slot:\"prepend\"})],1)],1),e._v(\" \"),r(\"el-form-item\",{attrs:{prop:\"password\"}},[r(\"el-input\",{attrs:{type:\"password\",placeholder:\"输入密码\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.submitForm()}},model:{value:e.param.password,callback:function(t){e.$set(e.param,\"password\",t)},expression:\"param.password\"}},[r(\"el-button\",{attrs:{slot:\"prepend\",icon:\"el-icon-lx-lock\"},slot:\"prepend\"})],1)],1),e._v(\" \"),r(\"el-form-item\",{attrs:{prop:\"password2\"}},[r(\"el-input\",{attrs:{type:\"password\",placeholder:\"再次输入密码\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.submitForm()}},model:{value:e.param.password2,callback:function(t){e.$set(e.param,\"password2\",t)},expression:\"param.password2\"}},[r(\"el-button\",{attrs:{slot:\"prepend\",icon:\"el-icon-lx-lock\"},slot:\"prepend\"})],1)],1),e._v(\" \"),r(\"el-form-item\",{attrs:{prop:\"phone\"}},[r(\"el-input\",{attrs:{placeholder:\"输入你的手机号\"},model:{value:e.param.phone,callback:function(t){e.$set(e.param,\"phone\",t)},expression:\"param.phone\"}},[r(\"el-button\",{attrs:{slot:\"prepend\",icon:\"el-icon-lx-people\"},slot:\"prepend\"})],1)],1),e._v(\" \"),r(\"el-form-item\",{staticStyle:{display:\"inline-block\",width:\"190px\"},attrs:{prop:\"code\"}},[r(\"el-input\",{attrs:{placeholder:\"验证码\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.submitForm()}},model:{value:e.param.code,callback:function(t){e.$set(e.param,\"code\",t)},expression:\"param.code\"}},[r(\"el-button\",{attrs:{slot:\"prepend\",icon:\"el-icon-lx-lock\"},slot:\"prepend\"})],1)],1),e._v(\" \"),r(\"el-form-item\",{staticStyle:{display:\"inline-block\"}},[e.show?r(\"el-button\",{attrs:{type:\"primary\",plain:\"\",size:\"mini\"},on:{click:function(t){return e.getCode()}}},[e._v(\"获取验证码\")]):r(\"el-button\",{attrs:{type:\"primary\",plain:\"\",size:\"mini\",disabled:\"\"},on:{click:function(t){return e.getCode()}}},[e._v(\"获取验证码\")])],1),e._v(\" \"),e.error?r(\"div\",{staticStyle:{color:\"red\",\"font-size\":\"10px\",\"margin-left\":\"180px\",\"margin-top\":\"-15px\"}},[e._v(e._s(e.errors))]):e._e(),e._v(\" \"),e.show?e._e():r(\"div\",{staticStyle:{color:\"#5daf34\",\"font-size\":\"10px\",\"margin-left\":\"130px\",\"margin-top\":\"-15px\"}},[e._v(\"短信已发送，\"+e._s(e.count)+\"s后重新发送\")]),e._v(\" \"),r(\"div\",{staticClass:\"login-btn\"},[r(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.submitForm()}}},[e._v(\"注册\")])],1),e._v(\" \"),r(\"div\",[r(\"el-button\",{staticStyle:{\"margin-left\":\"30px\",display:\"inline-block\"},attrs:{type:\"success\",size:\"mini\"},on:{click:function(t){return e.goLogin()}}},[e._v(\"登录\")]),e._v(\" \"),r(\"el-button\",{staticStyle:{\"margin-left\":\"120px\",display:\"inline-block\"},attrs:{type:\"success\",size:\"mini\"},on:{click:function(t){return e.resetForm(\"register\")}}},[e._v(\"重置\")])],1)],1)],1)]),e._v(\" \"),r(\"div\",{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"15px\",\"font-size\":\"20px\"}},[r(\"el-link\",{attrs:{type:\"primary\",href:\"/\"}},[e._v(\"关于我们\")]),e._v(\"  |  \"),r(\"el-link\",{attrs:{type:\"primary\",href:\"/\"}},[e._v(\"联系我们\")]),e._v(\"  |  \"),r(\"el-link\",{attrs:{type:\"primary\",href:\"/\"}},[e._v(\"广告服务\")])],1),e._v(\" \"),r(\"div\",{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"15px\",\"font-size\":\"15px\"}},[e._v(\"Copyright @ 2019-2020 siushare.com 版权所有\")])])}),s,!1,null,\"b6ed5f1e\",null);t.default=o.exports},647:function(e,t,r){e.exports=r.p+\"assets/images/logo.png\"},678:function(e,t,r){var s=r(733);\"string\"==typeof s&&(s=[[e.i,s,\"\"]]),s.locals&&(e.exports=s.locals);(0,r(158).default)(\"076e300e\",s,!0,{})},732:function(e,t,r){\"use strict\";var s=r(678);r.n(s).a},733:function(e,t,r){}}]);","extractedComments":[]}