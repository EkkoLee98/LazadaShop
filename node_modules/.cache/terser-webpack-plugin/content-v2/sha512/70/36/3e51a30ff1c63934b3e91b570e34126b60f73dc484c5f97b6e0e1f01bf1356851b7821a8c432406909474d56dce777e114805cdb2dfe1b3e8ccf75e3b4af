{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{633:function(t,e,i){\"use strict\";i.r(e);var l={name:\"allproducts\",data:()=>({query:{sid:\"\",pageIndex:1},tableData:[],nid:\"\",ntitle:\"\",nprice:\"\",nimg:\"\",products:[],product:[],multipleSelection:[],delList:[],editVisible:!1,editVisible2:!1,Visible:!1,pageTotal:0,form:{itemId:\"\",officialUrl:\"\",officialImageUrl:\"\",number:\"\",voucherId:\"\",officialPrice:\"\",couponPrice:\"\",couponInfo:\"\",startTime:\"\",endTime:\"\",productName:\"\"},form2:{itemId:\"\",officialUrl:\"\",officialImageUrl:\"\",number:\"\",voucherId:\"\",officialPrice:\"\",couponPrice:\"\",couponInfo:\"\",startTime:\"\",endTime:\"\",productName:\"\"},idx:-1,id:-1}),created(){this.getProducts()},methods:{getProducts(){this.$axios.post(this.$api.productAll,{},{headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"}}).then(t=>{this.all=!0,this.products=t.data,console.log(\"success\"),console.log(t.data),this.tableData=JSON.parse(this.products.msg.productsJsonInfo),this.pageTotal=this.tableData.length,console.log(this.tableData),console.log(this.pageTotal)})},handleSearch(){for(var t=new RegExp(this.query.sid),e=[],i=0;i<this.tableData.length;i++)t.test(this.tableData[i][1])&&e.push(this.tableData[i]);console.log(e),null!=e&&(this.tableData=e)},handleSelectionChange(t){this.multipleSelection=t},handleEdit(t){this.editVisible=!0,this.form.itemId=t[0],this.form.officialUrl=t[2],this.form.officialImageUrl=t[3],this.form.officialPrice=t[4],this.form.productName=t[1]},handleEdit2(){this.Visible=!1,this.editVisible2=!0},saveEdit(){this.editVisible=!1,this.$axios.post(this.$api.couponOperate,JSON.stringify(this.form),{headers:{contentType:\"application/json;charset=UTF-8\",\"Content-Type\":\"application/json\"}}).then(t=>{console.log(t.data),1==t.data.msg?(this.$message.success(\"设置成功\"),this.form.number=\"\",this.form.voucherId=\"\",this.form.couponPrice=\"\",this.form.couponInfo=\"\",this.form.startTime=\"\",this.form.endTime=\"\"):(this.$message.error(\"设置失败\"),this.form.number=\"\",this.form.voucherId=\"\",this.form.couponPrice=\"\",this.form.couponInfo=\"\",this.form.startTime=\"\",this.form.endTime=\"\")})},saveEdit2(){this.editVisible2=!1,this.$axios.post(\"/api/merchant/couponOperate\",JSON.stringify(this.form),{headers:{contentType:\"application/json;charset=UTF-8\",\"Content-Type\":\"application/json\"}}).then(t=>{console.log(t.data),1==t.data.msg?(this.$message.success(\"设置成功\"),this.form2.number=\"\",this.form2.voucherId=\"\",this.form2.couponPrice=\"\",this.form2.couponInfo=\"\",this.form2.startTime=\"\",this.form2.endTime=\"\"):(this.$message.error(\"设置失败\"),this.form2.number=\"\",this.form2.voucherId=\"\",this.form2.couponPrice=\"\",this.form2.couponInfo=\"\",this.form2.startTime=\"\",this.form2.endTime=\"\")})},handlePageChange(t){this.$set(this.query,\"pageIndex\",t),this.getData()}},mounted(){}},o=(i(709),i(64)),a=Object(o.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",[i(\"div\",{staticClass:\"crumbs\"},[i(\"el-breadcrumb\",{attrs:{separator:\"/\"}},[i(\"el-breadcrumb-item\",[i(\"i\",{staticClass:\"el-icon-lx-cascades\"}),t._v(\" 所有商品\\n            \")])],1)],1),t._v(\" \"),i(\"div\",{staticClass:\"container\"},[i(\"div\",{staticClass:\"handle-box\"},[i(\"el-button\",{staticClass:\"handle-del mr10\",staticStyle:{width:\"100px\"},attrs:{type:\"primary\",icon:\"el-icon-delete\"},on:{click:t.getProducts}},[t._v(\"所有商品\\n            \")]),t._v(\" \"),i(\"el-input\",{staticClass:\"handle-input mr10\",staticStyle:{width:\"400px\"},attrs:{placeholder:\"商品名\"},model:{value:t.query.sid,callback:function(e){t.$set(t.query,\"sid\",e)},expression:\"query.sid\"}}),t._v(\" \"),i(\"el-button\",{staticStyle:{width:\"100px\"},attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:t.handleSearch}},[t._v(\"搜索\")])],1),t._v(\" \"),i(\"el-table\",{ref:\"multipleTable\",staticClass:\"table\",staticStyle:{width:\"100%\"},attrs:{data:t.tableData,border:\"\",\"header-cell-class-name\":\"table-header\",height:\"500\"},on:{\"selection-change\":t.handleSelectionChange}},[i(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\",align:\"center\"}}),t._v(\" \"),i(\"el-table-column\",{attrs:{prop:\"id\",label:\"ID\",width:\"150\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(t._s(e.row[0]))]}}])}),t._v(\" \"),i(\"el-table-column\",{attrs:{prop:\"name\",label:\"商品名\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(t._s(e.row[1]))]}}])}),t._v(\" \"),i(\"el-table-column\",{attrs:{label:\"商品价格\",width:\"150\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(\"￥\"+t._s(e.row[4]))]}}])}),t._v(\" \"),i(\"el-table-column\",{attrs:{label:\"商品图片\",align:\"center\",width:\"200\"},scopedSlots:t._u([{key:\"default\",fn:function(t){return[i(\"el-image\",{staticClass:\"table-td-thumb\",attrs:{src:t.row[3],\"preview-src-list\":[t.row[3]]}})]}}])}),t._v(\" \"),i(\"el-table-column\",{attrs:{label:\"操作\",width:\"180\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[i(\"el-button\",{attrs:{type:\"text\",icon:\"el-icon-edit\"},on:{click:function(i){return t.handleEdit(e.row)}}},[t._v(\"设置优惠券\\n                    \")])]}}])})],1)],1),t._v(\" \"),i(\"el-dialog\",{attrs:{title:\"设置优惠券\",visible:t.editVisible,width:\"30%\"},on:{\"update:visible\":function(e){t.editVisible=e}}},[i(\"el-form\",{ref:\"form\",attrs:{model:t.form,\"label-width\":\"70px\"}},[i(\"el-form-item\",{attrs:{label:\"商品Id\"}},[i(\"el-input\",{attrs:{disabled:\"\"},model:{value:t.form.itemId,callback:function(e){t.$set(t.form,\"itemId\",e)},expression:\"form.itemId\"}})],1),t._v(\" \"),i(\"el-form-item\",{attrs:{label:\"商品名\"}},[i(\"el-input\",{attrs:{disabled:\"\"},model:{value:t.form.productName,callback:function(e){t.$set(t.form,\"productName\",e)},expression:\"form.productName\"}})],1),t._v(\" \"),i(\"el-form-item\",{attrs:{label:\"官方链接\"}},[i(\"el-input\",{attrs:{disabled:\"\"},model:{value:t.form.officialUrl,callback:function(e){t.$set(t.form,\"officialUrl\",e)},expression:\"form.officialUrl\"}})],1),t._v(\" \"),i(\"el-form-item\",{attrs:{label:\"图片链接\"}},[i(\"el-input\",{attrs:{disabled:\"\"},model:{value:t.form.officialImageUrl,callback:function(e){t.$set(t.form,\"officialImageUrl\",e)},expression:\"form.officialImageUrl\"}})],1),t._v(\" \"),i(\"el-form-item\",{attrs:{label:\"数量\"}},[i(\"el-input\",{model:{value:t.form.number,callback:function(e){t.$set(t.form,\"number\",e)},expression:\"form.number\"}})],1),t._v(\" \"),i(\"el-form-item\",{attrs:{label:\"应用码\"}},[i(\"el-input\",{model:{value:t.form.voucherId,callback:function(e){t.$set(t.form,\"voucherId\",e)},expression:\"form.voucherId\"}})],1),t._v(\" \"),i(\"el-form-item\",{attrs:{label:\"官方价格\"}},[i(\"el-input\",{attrs:{disabled:\"\"},model:{value:t.form.officialPrice,callback:function(e){t.$set(t.form,\"officialPrice\",e)},expression:\"form.officialPrice\"}})],1),t._v(\" \"),i(\"el-form-item\",{attrs:{label:\"优惠价格\"}},[i(\"el-input\",{model:{value:t.form.couponPrice,callback:function(e){t.$set(t.form,\"couponPrice\",e)},expression:\"form.couponPrice\"}})],1),t._v(\" \"),i(\"el-form-item\",{attrs:{label:\"优惠信息\"}},[i(\"el-input\",{model:{value:t.form.couponInfo,callback:function(e){t.$set(t.form,\"couponInfo\",e)},expression:\"form.couponInfo\"}})],1),t._v(\" \"),i(\"el-form-item\",{attrs:{label:\"活动时间\"}},[i(\"el-col\",{attrs:{span:11}},[i(\"el-date-picker\",{staticStyle:{width:\"100%\"},attrs:{type:\"date\",placeholder:\"开始时间\"},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,\"startTime\",e)},expression:\"form.startTime\"}})],1),t._v(\" \"),i(\"el-col\",{staticClass:\"line\",staticStyle:{\"text-align\":\"center\"},attrs:{span:2}},[t._v(\"-\")]),t._v(\" \"),i(\"el-col\",{attrs:{span:11}},[i(\"el-date-picker\",{staticStyle:{width:\"100%\"},attrs:{placeholder:\"截止时间\"},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,\"endTime\",e)},expression:\"form.endTime\"}})],1)],1)],1),t._v(\" \"),i(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[i(\"el-button\",{on:{click:function(e){t.editVisible=!1}}},[t._v(\"取 消\")]),t._v(\" \"),i(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.saveEdit}},[t._v(\"确 定\")])],1)],1),t._v(\" \"),i(\"el-dialog\",{attrs:{title:\"设置优惠券\",visible:t.editVisible2,width:\"30%\"},on:{\"update:visible\":function(e){t.editVisible2=e}}},[i(\"el-form\",{ref:\"form\",attrs:{model:t.form2,\"label-width\":\"70px\"}},[i(\"el-form-item\",{attrs:{label:\"商品Id\"}},[i(\"el-input\",{attrs:{disabled:\"\"},model:{value:t.form2.itemId,callback:function(e){t.$set(t.form2,\"itemId\",e)},expression:\"form2.itemId\"}})],1),t._v(\" \"),i(\"el-form-item\",{attrs:{label:\"商品名\"}},[i(\"el-input\",{attrs:{disabled:\"\"},model:{value:t.form2.productName,callback:function(e){t.$set(t.form2,\"productName\",e)},expression:\"form2.productName\"}})],1),t._v(\" \"),i(\"el-form-item\",{attrs:{label:\"官方链接\"}},[i(\"el-input\",{attrs:{disabled:\"\"},model:{value:t.form2.officialUrl,callback:function(e){t.$set(t.form2,\"officialUrl\",e)},expression:\"form2.officialUrl\"}})],1),t._v(\" \"),i(\"el-form-item\",{attrs:{label:\"图片链接\"}},[i(\"el-input\",{attrs:{disabled:\"\"},model:{value:t.form2.officialImageUrl,callback:function(e){t.$set(t.form2,\"officialImageUrl\",e)},expression:\"form2.officialImageUrl\"}})],1),t._v(\" \"),i(\"el-form-item\",{attrs:{label:\"数量\"}},[i(\"el-input\",{model:{value:t.form2.number,callback:function(e){t.$set(t.form2,\"number\",e)},expression:\"form2.number\"}})],1),t._v(\" \"),i(\"el-form-item\",{attrs:{label:\"应用码\"}},[i(\"el-input\",{model:{value:t.form2.voucherId,callback:function(e){t.$set(t.form2,\"voucherId\",e)},expression:\"form2.voucherId\"}})],1),t._v(\" \"),i(\"el-form-item\",{attrs:{label:\"官方价格\"}},[i(\"el-input\",{attrs:{disabled:\"\"},model:{value:t.form2.officialPrice,callback:function(e){t.$set(t.form2,\"officialPrice\",e)},expression:\"form2.officialPrice\"}})],1),t._v(\" \"),i(\"el-form-item\",{attrs:{label:\"优惠价格\"}},[i(\"el-input\",{model:{value:t.form2.couponPrice,callback:function(e){t.$set(t.form2,\"couponPrice\",e)},expression:\"form2.couponPrice\"}})],1),t._v(\" \"),i(\"el-form-item\",{attrs:{label:\"优惠信息\"}},[i(\"el-input\",{model:{value:t.form2.couponInfo,callback:function(e){t.$set(t.form2,\"couponInfo\",e)},expression:\"form2.couponInfo\"}})],1),t._v(\" \"),i(\"el-form-item\",{attrs:{label:\"活动时间\"}},[i(\"el-col\",{attrs:{span:11}},[i(\"el-date-picker\",{staticStyle:{width:\"100%\"},attrs:{type:\"date\",placeholder:\"开始时间\"},model:{value:t.form2.startTime,callback:function(e){t.$set(t.form2,\"startTime\",e)},expression:\"form2.startTime\"}})],1),t._v(\" \"),i(\"el-col\",{staticClass:\"line\",staticStyle:{\"text-align\":\"center\"},attrs:{span:2}},[t._v(\"-\")]),t._v(\" \"),i(\"el-col\",{attrs:{span:11}},[i(\"el-date-picker\",{staticStyle:{width:\"100%\"},attrs:{placeholder:\"截止时间\"},model:{value:t.form2.endTime,callback:function(e){t.$set(t.form2,\"endTime\",e)},expression:\"form2.endTime\"}})],1)],1)],1),t._v(\" \"),i(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[i(\"el-button\",{on:{click:function(e){t.editVisible2=!1}}},[t._v(\"取 消\")]),t._v(\" \"),i(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.saveEdit2}},[t._v(\"确 定\")])],1)],1),t._v(\" \"),i(\"el-dialog\",{attrs:{title:\"单品信息\",visible:t.Visible,width:\"1200px\"},on:{\"update:visible\":function(e){t.Visible=e}}},[i(\"table\",{staticClass:\"table_default1\",staticStyle:{border:\"1px solid white\",width:\"1000px\"}},[i(\"tr\",[i(\"th\",[t._v(\"商品Id\")]),t._v(\" \"),i(\"th\",[t._v(\"商品介绍\")]),t._v(\" \"),i(\"th\",[t._v(\"商品价格\")]),t._v(\" \"),i(\"th\",[t._v(\"图片\")]),t._v(\" \"),i(\"th\",[t._v(\"操作\")])]),t._v(\" \"),i(\"tr\",[i(\"td\",{staticStyle:{width:\"150px\",\"text-align\":\"center\"}},[t._v(t._s(this.nid))]),t._v(\" \"),i(\"td\",{staticStyle:{width:\"500px\"}},[t._v(t._s(this.ntitle))]),t._v(\" \"),i(\"td\",{staticStyle:{width:\"150px\",\"text-align\":\"center\"}},[t._v(t._s(this.nprice))]),t._v(\" \"),i(\"td\",{staticStyle:{width:\"200px\"}},[i(\"img\",{staticStyle:{width:\"50px\",height:\"50px\",\"margin-left\":\"70px\"},attrs:{src:this.nimg}})]),t._v(\" \"),i(\"td\",[i(\"el-button\",{attrs:{type:\"text\",icon:\"el-icon-edit\"},on:{click:function(e){return t.handleEdit2()}}},[t._v(\"设置优惠券\\n                    \")]),t._v(\"`\\n                \")],1)])])])],1)}),[],!1,null,\"24cf0ada\",null);e.default=a.exports},667:function(t,e,i){var l=i(710);\"string\"==typeof l&&(l=[[t.i,l,\"\"]]),l.locals&&(t.exports=l.locals);(0,i(158).default)(\"39159592\",l,!0,{})},709:function(t,e,i){\"use strict\";var l=i(667);i.n(l).a},710:function(t,e,i){}}]);","extractedComments":[]}