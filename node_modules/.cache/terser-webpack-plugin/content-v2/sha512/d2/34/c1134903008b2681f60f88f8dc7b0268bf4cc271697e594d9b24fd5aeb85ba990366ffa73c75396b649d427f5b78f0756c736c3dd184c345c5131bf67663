{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{836:function(e,t,s){var r=s(848);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]),r.locals&&(e.exports=r.locals);(0,s(10).default)(\"33c1ae4c\",r,!0,{})},837:function(e,t,s){var r=s(850);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]),r.locals&&(e.exports=r.locals);(0,s(10).default)(\"3de25b6c\",r,!0,{})},838:function(e,t,s){var r=s(852);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]),r.locals&&(e.exports=r.locals);(0,s(10).default)(\"6b7460b8\",r,!0,{})},847:function(e,t,s){\"use strict\";var r=s(836);s.n(r).a},848:function(e,t,s){},849:function(e,t,s){\"use strict\";var r=s(837);s.n(r).a},850:function(e,t,s){},851:function(e,t,s){\"use strict\";var r=s(838);s.n(r).a},852:function(e,t,s){},854:function(e,t,s){\"use strict\";s.r(t);var r={data:function(){return{param:{username:\"1\",password:\"1\"},rules:{username:[{required:!0,message:\"请输入用户名\",trigger:\"blur\"}],password:[{required:!0,message:\"请输入密码\",trigger:\"blur\"}]}}},methods:{checkstatus(){null!=localStorage.getItem(\"ms_username\")&&this.$router.replace(\"/\")},submitForm(){this.$refs.login.validate(e=>{if(!e)return this.$message.error(\"请输入账号和密码\"),console.log(\"error submit!!\"),!1;this.$message.success(\"登录成功\"),localStorage.setItem(\"ms_username\",this.param.username),this.$axios.post(\"/api/login\",this.$qs.stringify(this.param),{headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"}}).then(e=>{console.log(e),null!=e&&(1===e.data.msg?(localStorage.setItem(\"identity\",e.data.msg),console.log(\"普通用户\"),this.$router.replace(\"/\")):2===e.data.msg?(localStorage.setItem(\"identity\",e.data.msg),console.log(\"商家\"),this.$router.replace(\"/\")):3===e.data.msg?(localStorage.setItem(\"identity\",e.data.msg),console.log(\"分享者\"),this.$router.replace(\"/\")):this.$message.error(\"未知错误，请稍后再尝试\"))})})},goRegister(){this.$router.push(\"/register\")},gosmsLogin(){this.$router.push(\"/smslogin\")}},mounted(){this.checkstatus()}},a=(s(847),s(2)),o=Object(a.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{attrs:{id:\"login-wrap\"}},[s(\"div\",{staticClass:\"ms-login\"},[s(\"div\",{staticClass:\"ms-title\"},[e._v(\"登录\")]),e._v(\" \"),s(\"el-form\",{ref:\"login\",staticClass:\"ms-content\",attrs:{model:e.param,rules:e.rules,\"label-width\":\"0px\"}},[s(\"el-form-item\",{attrs:{prop:\"username\"}},[s(\"el-input\",{attrs:{placeholder:\"username\"},model:{value:e.param.username,callback:function(t){e.$set(e.param,\"username\",t)},expression:\"param.username\"}},[s(\"el-button\",{attrs:{slot:\"prepend\",icon:\"el-icon-lx-people\"},slot:\"prepend\"})],1)],1),e._v(\" \"),s(\"el-form-item\",{attrs:{prop:\"password\"}},[s(\"el-input\",{attrs:{type:\"password\",placeholder:\"password\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.submitForm()}},model:{value:e.param.password,callback:function(t){e.$set(e.param,\"password\",t)},expression:\"param.password\"}},[s(\"el-button\",{attrs:{slot:\"prepend\",icon:\"el-icon-lx-lock\"},slot:\"prepend\"})],1)],1),e._v(\" \"),s(\"div\",{staticClass:\"login-btn\"},[s(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.submitForm()}}},[e._v(\"登录\")])],1),e._v(\" \"),s(\"div\",{staticClass:\"login-btn\"},[s(\"el-button\",{attrs:{type:\"success\"},on:{click:function(t){return e.goRegister()}}},[e._v(\"注册\")])],1),e._v(\" \"),s(\"a\",{staticClass:\"login-tips\",staticStyle:{display:\"inline-block\"},attrs:{href:\"/login\"}},[e._v(\"忘记密码?\")]),e._v(\" \"),s(\"el-link\",{staticStyle:{display:\"inline-block\",\"margin-left\":\"175px\"},attrs:{type:\"info\"},on:{click:function(t){return e.gosmsLogin()}}},[e._v(\"手机登录\")]),e._v(\" \"),s(\"p\",{staticClass:\"login-tips\"},[e._v(\"Tips : 用户名和密码随便填。\")])],1)],1)])}),[],!1,null,\"619a14e2\",null);t.default=o.exports},855:function(e,t,s){\"use strict\";s.r(t);var r={data:function(){return{param:{username:\"\",password:\"\",password2:\"\",moblie:\"\",smsCode:\"\"},rules:{username:[{required:!0,message:\"请输入用户名\",trigger:\"blur\"}],password:[{validator:(e,t,s)=>{\"\"===t?s(new Error(\"请输入密码\")):(\"\"!==this.param.password&&this.$refs.register.validateField(\"password2\"),s())},required:!0,trigger:\"blur\"}],password2:[{validator:(e,t,s)=>{\"\"===t?s(new Error(\"请再次输入密码\")):t!==this.param.password?s(new Error(\"两次输入密码不一致!\")):s()},required:!0,trigger:\"blur\"}],moblie:[{required:!0,message:\"请输入手机号\",trigger:\"blur\"}],smsCode:[{required:!0,message:\"请输入验证码\",trigger:\"blur\"}]}}},methods:{resetForm(e){this.$refs[e].resetFields()},submitForm(){this.$refs.register.validate(e=>{if(!e)return this.$message.error(\"请输入账号和密码\"),console.log(\"error submit!!\"),!1;this.$message.success(\"登录成功\"),localStorage.setItem(\"ms_username\",this.param.username),this.$axios.post(\"api/login\",this.$qs.stringify(this.param),{headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"}}).then(e=>{this.$router.replace(\"/\")})})},getCode(){let e=this.param.moblie;this.$notify({title:\"成功\",message:\"短信已发送 有效时间为60S\",type:\"success\"}),this.$axios.post(\"api/login/sms\",this.$qs.stringify(e),{headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"}}).then(e=>{console.log(\"aaa\")})}},mounted(){}},a=(s(849),s(2)),o=Object(a.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{attrs:{id:\"login-wrap\"}},[s(\"div\",{staticClass:\"ms-login\"},[s(\"div\",{staticClass:\"ms-title\"},[e._v(\"注册\")]),e._v(\" \"),s(\"el-form\",{ref:\"register\",staticClass:\"ms-content\",attrs:{model:e.param,rules:e.rules,\"label-width\":\"0px\"}},[s(\"el-form-item\",{attrs:{prop:\"username\"}},[s(\"el-input\",{attrs:{placeholder:\"用户名\"},model:{value:e.param.username,callback:function(t){e.$set(e.param,\"username\",t)},expression:\"param.username\"}},[s(\"el-button\",{attrs:{slot:\"prepend\",icon:\"el-icon-lx-people\"},slot:\"prepend\"})],1)],1),e._v(\" \"),s(\"el-form-item\",{attrs:{prop:\"password\"}},[s(\"el-input\",{attrs:{type:\"password\",placeholder:\"输入密码\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.submitForm()}},model:{value:e.param.password,callback:function(t){e.$set(e.param,\"password\",t)},expression:\"param.password\"}},[s(\"el-button\",{attrs:{slot:\"prepend\",icon:\"el-icon-lx-lock\"},slot:\"prepend\"})],1)],1),e._v(\" \"),s(\"el-form-item\",{attrs:{prop:\"password2\"}},[s(\"el-input\",{attrs:{type:\"password\",placeholder:\"再次输入密码\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.submitForm()}},model:{value:e.param.password2,callback:function(t){e.$set(e.param,\"password2\",t)},expression:\"param.password2\"}},[s(\"el-button\",{attrs:{slot:\"prepend\",icon:\"el-icon-lx-lock\"},slot:\"prepend\"})],1)],1),e._v(\" \"),s(\"el-form-item\",{staticStyle:{display:\"inline-block\",width:\"190px\"},attrs:{prop:\"moblie\"}},[s(\"el-input\",{attrs:{placeholder:\"手机号\"},model:{value:e.param.moblie,callback:function(t){e.$set(e.param,\"moblie\",t)},expression:\"param.moblie\"}},[s(\"el-button\",{attrs:{slot:\"prepend\",icon:\"el-icon-phone\"},slot:\"prepend\"})],1)],1),e._v(\" \"),s(\"el-form-item\",{staticStyle:{display:\"inline-block\"}},[s(\"el-button\",{attrs:{type:\"primary\",plain:\"\",size:\"mini\"},on:{click:function(t){return e.getCode()}}},[e._v(\"获取验证码\")])],1),e._v(\" \"),s(\"div\",{staticClass:\"login-btn\"},[s(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.submitForm()}}},[e._v(\"注册\")])],1),e._v(\" \"),s(\"el-button\",{staticStyle:{\"margin-left\":\"120px\"},attrs:{type:\"success\",size:\"mini\"},on:{click:function(t){return e.resetForm(\"register\")}}},[e._v(\"重置\")])],1)],1)])}),[],!1,null,\"4b4e4b42\",null);t.default=o.exports},856:function(e,t,s){\"use strict\";s.r(t);var r={data:function(){return{param:{moblie:\"\",smsCode:\"\"},rules:{moblie:[{required:!0,message:\"请输入手机号\",trigger:\"blur\"}],smsCode:[{required:!0,message:\"请输入验证码\",trigger:\"blur\"}]}}},methods:{submitForm(){this.$refs.login.validate(e=>{if(!e)return this.$message.error(\"请输入手机号和验证码\"),console.log(\"error submit!!\"),!1;this.$message.success(\"登录成功\"),localStorage.setItem(\"ms_username\",this.param.username),this.$axios.post(\"api/login/sms\",this.$qs.stringify(this.param),{headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"}}).then(e=>{this.$router.replace(\"/\")})})},getCode(){let e=this.param.moblie;this.$notify({title:\"成功\",message:\"短信已发送 有效时间为60S\",type:\"success\"}),this.$axios.post(\"api/login/sms\",this.$qs.stringify(e),{headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"}}).then(e=>{console.log(\"aaa\")})}},mounted(){}},a=(s(851),s(2)),o=Object(a.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{attrs:{id:\"login-wrap\"}},[s(\"div\",{staticClass:\"ms-login\"},[s(\"div\",{staticClass:\"ms-title\"},[e._v(\"手机登录\")]),e._v(\" \"),s(\"el-form\",{ref:\"login\",staticClass:\"ms-content\",attrs:{model:e.param,rules:e.rules,\"label-width\":\"0px\"}},[s(\"el-form-item\",{attrs:{prop:\"moblie\"}},[s(\"el-input\",{attrs:{placeholder:\"输入你的手机号\"},model:{value:e.param.moblie,callback:function(t){e.$set(e.param,\"moblie\",t)},expression:\"param.moblie\"}},[s(\"el-button\",{attrs:{slot:\"prepend\",icon:\"el-icon-lx-people\"},slot:\"prepend\"})],1)],1),e._v(\" \"),s(\"el-form-item\",{staticStyle:{display:\"inline-block\",width:\"190px\"},attrs:{prop:\"smsCode\"}},[s(\"el-input\",{attrs:{placeholder:\"验证码\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.submitForm()}},model:{value:e.param.smsCode,callback:function(t){e.$set(e.param,\"smsCode\",t)},expression:\"param.smsCode\"}},[s(\"el-button\",{attrs:{slot:\"prepend\",icon:\"el-icon-lx-lock\"},slot:\"prepend\"})],1)],1),e._v(\" \"),s(\"el-form-item\",{staticStyle:{display:\"inline-block\"}},[s(\"el-button\",{attrs:{type:\"primary\",plain:\"\",size:\"mini\"},on:{click:function(t){return e.getCode()}}},[e._v(\"获取验证码\")])],1),e._v(\" \"),s(\"div\",{staticClass:\"login-btn\"},[s(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.submitForm()}}},[e._v(\"登录\")])],1)],1)],1)])}),[],!1,null,\"0bcb0e30\",null);t.default=o.exports}}]);","extractedComments":[]}